(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e){e.exports=JSON.parse('[{"name":"Alabama","abbreviation":"AL"},{"name":"Alaska","abbreviation":"AK"},{"name":"American Samoa","abbreviation":"AS"},{"name":"Arizona","abbreviation":"AZ"},{"name":"Arkansas","abbreviation":"AR"},{"name":"California","abbreviation":"CA"},{"name":"Colorado","abbreviation":"CO"},{"name":"Connecticut","abbreviation":"CT"},{"name":"Delaware","abbreviation":"DE"},{"name":"District Of Columbia","abbreviation":"DC"},{"name":"Federated States Of Micronesia","abbreviation":"FM"},{"name":"Florida","abbreviation":"FL"},{"name":"Georgia","abbreviation":"GA"},{"name":"Guam","abbreviation":"GU"},{"name":"Hawaii","abbreviation":"HI"},{"name":"Idaho","abbreviation":"ID"},{"name":"Illinois","abbreviation":"IL"},{"name":"Indiana","abbreviation":"IN"},{"name":"Iowa","abbreviation":"IA"},{"name":"Kansas","abbreviation":"KS"},{"name":"Kentucky","abbreviation":"KY"},{"name":"Louisiana","abbreviation":"LA"},{"name":"Maine","abbreviation":"ME"},{"name":"Marshall Islands","abbreviation":"MH"},{"name":"Maryland","abbreviation":"MD"},{"name":"Massachusetts","abbreviation":"MA"},{"name":"Michigan","abbreviation":"MI"},{"name":"Minnesota","abbreviation":"MN"},{"name":"Mississippi","abbreviation":"MS"},{"name":"Missouri","abbreviation":"MO"},{"name":"Montana","abbreviation":"MT"},{"name":"Nebraska","abbreviation":"NE"},{"name":"Nevada","abbreviation":"NV"},{"name":"New Hampshire","abbreviation":"NH"},{"name":"New Jersey","abbreviation":"NJ"},{"name":"New Mexico","abbreviation":"NM"},{"name":"New York","abbreviation":"NY"},{"name":"North Carolina","abbreviation":"NC"},{"name":"North Dakota","abbreviation":"ND"},{"name":"Northern Mariana Islands","abbreviation":"MP"},{"name":"Ohio","abbreviation":"OH"},{"name":"Oklahoma","abbreviation":"OK"},{"name":"Oregon","abbreviation":"OR"},{"name":"Palau","abbreviation":"PW"},{"name":"Pennsylvania","abbreviation":"PA"},{"name":"Puerto Rico","abbreviation":"PR"},{"name":"Rhode Island","abbreviation":"RI"},{"name":"South Carolina","abbreviation":"SC"},{"name":"South Dakota","abbreviation":"SD"},{"name":"Tennessee","abbreviation":"TN"},{"name":"Texas","abbreviation":"TX"},{"name":"Utah","abbreviation":"UT"},{"name":"Vermont","abbreviation":"VT"},{"name":"Virgin Islands","abbreviation":"VI"},{"name":"Virginia","abbreviation":"VA"},{"name":"Washington","abbreviation":"WA"},{"name":"West Virginia","abbreviation":"WV"},{"name":"Wisconsin","abbreviation":"WI"},{"name":"Wyoming","abbreviation":"WY"}]')},17:function(e,a,t){},18:function(e,a,t){},21:function(e,a,t){"use strict";t.r(a);var n=t(0),i=t(1),o=t.n(i),r=t(9),c=t.n(r),s=(t(17),t(2)),b=t(3),l=t(5),u=t(4),d=(t(18),t(11)),h=t(6),m=t(19),v=function(e){var a=e.reading,t=e.degreeType,i=new Date,o=1e3*a.dt;i.setTime(o);var r=Math.round(a.main.temp),c=Math.round(5*(r-32)/9),s="owf owf-".concat(a.weather[0].id," owf-5x");return Object(n.jsx)("div",{className:"flex-sm-fill",children:Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("h3",{className:"card-title",children:m(i).format("dddd")}),Object(n.jsx)("p",{className:"text-muted",children:m(i).format("MMMM Do, h:mm a")}),Object(n.jsx)("i",{className:s}),Object(n.jsx)("h2",{children:"celsius"===t?c+"\xb0C":r+"\xb0F"}),Object(n.jsx)("div",{className:"card-body",children:Object(n.jsx)("p",{className:"card-text",children:a.weather[0].description})})]})})},f=function(e){var a=e.degreeType,t=e.updateForecastDegree;return Object(n.jsxs)(o.a.Fragment,{children:[Object(n.jsxs)("div",{className:"form-check form-check-inline",children:[Object(n.jsx)("input",{class:"form-check-input",type:"radio",name:"degree-type",id:"celsius",value:"celsius",checked:"celsius"===a,onChange:t}),Object(n.jsx)("label",{class:"form-check-label",for:"celsius",children:"Celsius"})]}),Object(n.jsxs)("div",{className:"form-check form-check-inline",children:[Object(n.jsx)("input",{class:"form-check-input",type:"radio",name:"degree-type",id:"farenheit",value:"fahrenheit",checked:"fahrenheit"===a,onChange:t}),Object(n.jsx)("label",{class:"form-check-label",for:"farenheit",children:"Farenheit"})]})]})},p=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){var i;return Object(s.a)(this,t),(i=a.call(this,e)).updateForecastDegree=function(e){i.setState({degreeType:e.target.value},(function(){return console.log(i.state)}))},i.formatDayCards=function(){return i.props.dailyData.map((function(e,a){return Object(n.jsx)(v,{reading:e,degreeType:i.state.degreeType},a)}))},i.state={degreeType:"fahrenheit"},i}return Object(b.a)(t,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"row flex-fill",children:this.formatDayCards()}),Object(n.jsx)(f,{degreeType:this.state.degreeType,updateForecastDegree:this.updateForecastDegree})]})}}]),t}(o.a.Component),j=function(e){var a=e.location;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{className:"display-1 jumbotron",children:"5-Day Forecast."}),Object(n.jsx)("h5",{className:"display-5 text-muted",children:a})]})},O=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).state={value:null},n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.handleChange=n.handleChange.bind(Object(h.a)(n)),n}return Object(b.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.updateZip(this.state.value),e.preventDefault()}},{key:"render",value:function(){return Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsxs)("label",{children:["Search by ZIP code:",Object(n.jsx)("input",{type:"text",value:this.state.value,onChange:this.handleChange})]}),Object(n.jsx)("input",{type:"submit",value:"Submit"})]})}}]),t}(o.a.Component),g=t(8),y=t.n(g),x=t(10),C=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(s.a)(this,t),(n=a.call(this,e)).componentDidMount=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords;n.fetchLocationFromCordinates(a.latitude,a.longitude)}),(function(e){console.log("Error getting geolocation")})):n.state.zip&&n.fetchWeather()},n.fetchWeather=function(){var e="http://api.openweathermap.org/data/2.5/forecast?zip=".concat(n.state.zip,",us&units=imperial&appid=").concat(y.a.weatherApiKey);fetch(e).then((function(e){return e.json()})).then((function(e){var a=e.list.filter((function(e){return e.dt_txt.includes("18:00:00")}));n.setState({fullData:e.list,dailyData:a},(function(){return console.log(n.state)}))})).catch((function(e){console.log("Error reading weather API")}))},n.fetchLocation=function(){var e="http://api.zippopotam.us/us/".concat(n.state.zip);fetch(e).then((function(e){return e.json()})).then((function(e){var a=e.places[0]["place name"],t=e.places[0]["state abbreviation"];n.setState({location:"".concat(a,", ").concat(t)},(function(){return console.log(n.state)}))})).catch((function(e){console.log("Error reading zip location API")}))},n.fetchLocationFromCordinates=function(e,a){var t="https://us1.locationiq.com/v1/reverse.php?key=".concat(y.a.geolocationApiKey,"&lat=").concat(e,"&lon=").concat(a,"&format=json");fetch(t).then((function(e){return e.json()})).then((function(e){var a=e.address.postcode,t=e.address.city,i=n.findAbvFromState(e.address.state);console.log("abv: "+i),n.setState({zip:a,location:i?"".concat(t,", ").concat(i):t},(function(){return n.fetchWeather()}))})).catch((function(e){console.log("Error reading geolocation API")}))},n.state={zip:null,location:null,fullData:[],dailyData:[]},n.updateZip=n.updateZip.bind(Object(h.a)(n)),n.fetchLocationFromCordinates=n.fetchLocationFromCordinates.bind(Object(h.a)(n)),n}return Object(b.a)(t,[{key:"updateZip",value:function(e){var a=this;e!==this.state.zip&&this.setState({zip:e},(function(){a.fetchWeather(),a.fetchLocation()}))}},{key:"findAbvFromState",value:function(e){var a,t=Object(d.a)(x);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(n.name===e)return n.abbreviation}}catch(i){t.e(i)}finally{t.f()}return null}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(O,{updateZip:this.updateZip}),this.state.zip&&Object(n.jsx)(j,{location:this.state.location}),this.state.zip&&Object(n.jsx)(p,{dailyData:this.state.dailyData})]})}}]),t}(o.a.Component),N=function(e){Object(l.a)(t,e);var a=Object(u.a)(t);function t(){return Object(s.a)(this,t),a.apply(this,arguments)}return Object(b.a)(t,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(C,{})})}}]),t}(i.Component),M=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,22)).then((function(a){var t=a.getCLS,n=a.getFID,i=a.getFCP,o=a.getLCP,r=a.getTTFB;t(e),n(e),i(e),o(e),r(e)}))};c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(N,{})}),document.getElementById("root")),M()},8:function(e,a){a.weatherApiKey="758f485258961db017a0ea538fb37439",a.geolocationApiKey="pk.22641b5ae8685aa358903f1d02f32daf"}},[[21,1,2]]]);
//# sourceMappingURL=main.fb6279ed.chunk.js.map